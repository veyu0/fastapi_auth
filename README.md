Async Auth API

Асинхронный API аутентификации на основе FastAPI с использованием PostgreSQL для управления пользователями. API поддерживает регистрацию и вход пользователей с безопасным хешированием паролей (bcrypt) и генерацией JWT-токенов. Эндпоинт входа аутентифицирует пользователей, но не возвращает JWT-токен в ответе для повышения безопасности.

Возможности

- Регистрация пользователей: Создание новых пользователей с уникальными именами и хешированными паролями.

- Вход пользователей: Аутентификация пользователей по имени и паролю, с внутренней генерацией JWT-токена (не возвращается в ответе).

- Асинхронный PostgreSQL: Использует SQLAlchemy с asyncpg для операций с базой данных.

- Безопасная аутентификация: Реализует хеширование паролей с passlib[bcrypt] и генерацию JWT с python-jose.

Технологии

- FastAPI: 0.112.0

- SQLAlchemy (асинхронный): 2.0.32

- PostgreSQL: 16 (через Docker)

- python-jose: Для генерации JWT

- passlib[bcrypt]: Для хеширования паролей

- Docker: Для контейнеризированного развертывания

Требования

- Docker и Docker Compose

- Python 3.12 (для разработки вне Docker)

- Файл .env с необходимыми переменными окружения (см. Конфигурация)

Установка

- Клонируйте репозиторий:

```
git clone <url-репозитория>
cd <директория-репозитория>
```

- Создайте файл .env

- Соберите и запустите с Docker:
```
docker-compose up --build
```
Это запустит базу данных PostgreSQL и приложение FastAPI. API будет доступен по адресу http://localhost:8000.

Использование

- API доступен по адресу http://localhost:8000. Используйте Swagger UI по адресу http://localhost:8000/docs для интерактивного тестирования.

Эндпоинты

- POST /auth/register

Описание: Регистрация нового пользователя.

Тело запроса: { "username": "string", "password": "string" }

Ответ: { "username": "string" }

- POST /auth/login

Описание: Аутентификация пользователя. Генерирует JWT-токен внутренне, но возвращает сообщение об успехе.

Тело запроса: username=string&password=string (форм-данные)

Ответ: {"msg": "Успешный вход"}
